<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
  <meta charset="UTF-8">
  <title>Corporate Review - Categorized Documents</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .legal-border {
        border-left: 4px solid #9b2f2f;
    }

    .legal-pattern {
        background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%239b2f2f' fill-opacity='0.03' fill-rule='evenodd'/%3E%3C/svg%3E");
    }

    .legal-header {
        background: linear-gradient(135deg, #2c3b4e 0%, #37516d 100%);
        color: white;
        padding: 2rem 0;
        margin-bottom: 2rem;
        position: relative;
        overflow: hidden;
    }

    .legal-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    }

    .legal-card {
        background: white;
        border-radius: 0.5rem;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        border: 1px solid #e8e8e8;
        position: relative;
        overflow: hidden;
    }

    .legal-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #9b2f2f 0%, #ca8a04 100%);
    }

    .legal-icon {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1rem;
    }

    .legal-icon.secondary {
        background-color: #9b2f2f;
        color: white;
    }

    .legal-button {
        background: #9b2f2f;
        color: white;
        border: none;
        border-radius: 0.375rem;
        padding: 0.5rem 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 0.875rem;
    }

    .legal-button:hover {
        background: #802929;
        transform: translateY(-2px);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }

    .legal-button:active {
        transform: translateY(0);
    }

    .legal-button.secondary {
        background: #2c3b4e;
    }

    .legal-button.secondary:hover {
        background: #30455c;
    }

    .legal-button.outline {
        background: transparent;
        border: 1px solid #9b2f2f;
        color: #9b2f2f;
    }

    .legal-button.outline:hover {
        background: #9b2f2f;
        color: white;
    }

    .file-preview {
        border: 1px solid #e5e7eb;
        border-radius: 0.375rem;
        background-color: white;
        transition: all 0.2s ease;
    }

    .file-preview:hover {
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }

    .file-icon {
        font-size: 2rem;
        color: #6b7280;
    }

    .file-icon.pdf {
        color: #dc2626;
    }

    .file-icon.doc {
        color: #2563eb;
    }

    .file-icon.img {
        color: #059669;
    }

    .file-icon.zip {
        color: #7c3aed;
    }

    .document-section {
        background-color: #f8fafc;
        border: 1px solid #e2e8f0;
        border-radius: 0.5rem;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
    }

    .category-badge {
        display: inline-flex;
        align-items: center;
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 600;
        margin-right: 0.5rem;
        margin-bottom: 0.5rem;
    }

    .category-badge.ip {
        background-color: #e0f2fe;
        color: #0369a1;
    }

    .category-badge.employment {
        background-color: #f0fdf4;
        color: #15803d;
    }

    .category-badge.corporate {
        background-color: #fef3c7;
        color: #d97706;
    }

    .document-status {
        display: inline-flex;
        align-items: center;
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
        font-size: 0.75rem;
        font-weight: 600;
    }

    .status-complete {
        background-color: #f0fdf4;
        color: #15803d;
    }

    .status-pending {
        background-color: #fffbeb;
        color: #d97706;
    }

    .status-review {
        background-color: #eff6ff;
        color: #1d4ed8;
    }

    .progress-bar {
        height: 6px;
        background-color: #e5e7eb;
        border-radius: 3px;
        overflow: hidden;
    }

    .progress-fill {
        height: 100%;
        background-color: #9b2f2f;
        transition: width 0.3s ease;
    }

    .document-category {
        border-left: 4px solid;
        padding-left: 1rem;
    }

    .document-category.ip {
        border-left-color: #0369a1;
    }

    .document-category.employment {
        border-left-color: #15803d;
    }

    .document-category.corporate {
        border-left-color: #d97706;
    }

    .hidden-documents {
        display: none;
    }

    /* Upload Section Styles */
    .upload-dropzone {
        border: 2px dashed #cbd5e0;
        border-radius: 0.5rem;
        transition: all 0.3s ease;
        background-color: #f9fafb;
    }

    .upload-dropzone.active {
        border-color: #9b2f2f;
        background-color: #fdf5f5;
    }

    .upload-icon {
        font-size: 3rem;
        color: #9b2f2f;
    }

    .bulk-upload-info {
        background-color: #f0f9ff;
        border: 1px solid #bae6fd;
        border-radius: 0.5rem;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
    }

    .upload-summary {
        background-color: #f0fdf4;
        border: 1px solid #bbf7d0;
        border-radius: 0.5rem;
        padding: 1.5rem;
        margin-top: 1.5rem;
    }

    .document-types-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
        gap: 1rem;
        margin-top: 1rem;
    }

    .document-type-card {
        background: white;
        border: 1px solid #e2e8f0;
        border-radius: 0.5rem;
        padding: 1rem;
        text-align: center;
        transition: all 0.2s ease;
    }

    .document-type-card:hover {
        border-color: #9b2f2f;
        transform: translateY(-2px);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }

    .document-type-icon {
        font-size: 2rem;
        color: #9b2f2f;
        margin-bottom: 0.5rem;
    }

    /* Utility classes */
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
    }

    .mx-auto {
        margin-left: auto;
        margin-right: auto;
    }

    .px-4 {
        padding-left: 1rem;
        padding-right: 1rem;
    }

    .lg\:px-6 {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }

    .pb-8 {
        padding-bottom: 2rem;
    }

    .flex {
        display: flex;
    }

    .items-center {
        align-items: center;
    }

    .items-start {
        align-items: flex-start;
    }

    .justify-between {
        justify-content: space-between;
    }

    .flex-shrink-0 {
        flex-shrink: 0;
    }

    .mr-4 {
        margin-right: 1rem;
    }

    .ml-3 {
        margin-left: 0.75rem;
    }

    .mb-4 {
        margin-bottom: 1rem;
    }

    .mb-6 {
        margin-bottom: 1.5rem;
    }

    .mb-3 {
        margin-bottom: 0.75rem;
    }

    .mb-2 {
        margin-bottom: 0.5rem;
    }

    .mt-2 {
        margin-top: 0.5rem;
    }

    .mt-4 {
        margin-top: 1rem;
    }

    .mt-1 {
        margin-top: 0.25rem;
    }

    .p-6 {
        padding: 1.5rem;
    }

    .p-8 {
        padding: 2rem;
    }

    .p-4 {
        padding: 1rem;
    }

    .pt-4 {
        padding-top: 1rem;
    }

    .w-full {
        width: 100%;
    }

    .w-8 {
        width: 2rem;
    }

    .h-8 {
        height: 2rem;
    }

    .max-w-xs {
        max-width: 20rem;
    }

    .max-h-60 {
        max-height: 15rem;
    }

    .space-y-3 > * + * {
        margin-top: 0.75rem;
    }

    .space-y-3 {
        margin-top: 0.75rem;
    }

    .space-x-3 > * + * {
        margin-left: 0.75rem;
    }

    .space-x-2 > * + * {
        margin-left: 0.5rem;
    }

    .text-center {
        text-align: center;
    }

    .text-2xl {
        font-size: 1.5rem;
    }

    .lg\:text-3xl {
        font-size: 1.875rem;
    }

    .text-xl {
        font-size: 1.25rem;
    }

    .text-lg {
        font-size: 1.125rem;
    }

    .text-sm {
        font-size: 0.875rem;
    }

    .text-xs {
        font-size: 0.75rem;
    }

    .font-bold {
        font-weight: 700;
    }

    .font-medium {
        font-weight: 500;
    }

    .font-semibold {
        font-weight: 600;
    }

    .font-serif {
        font-family: Georgia, serif;
    }

    .text-primary {
        color: #9b2f2f;
    }

    .text-legal-navy-200 {
        color: rgba(44, 59, 78, 0.8);
    }

    .text-legal-navy-700 {
        color: #2c3b4e;
    }

    .text-legal-navy-600 {
        color: #4a5568;
    }

    .text-legal-navy-500 {
        color: #718096;
    }

    .text-legal-navy-400 {
        color: #a0aec0;
    }

    .text-legal-burgundy-600 {
        color: #9b2f2f;
    }

    .text-legal-burgundy-800 {
        color: #802929;
    }

    .text-blue-600 {
        color: #3182ce;
    }

    .text-blue-900 {
        color: #2a4365;
    }

    .text-blue-800 {
        color: #2c5282;
    }

    .text-green-600 {
        color: #059669;
    }

    .text-green-900 {
        color: #22543d;
    }

    .text-green-800 {
        color: #276749;
    }

    .text-amber-600 {
        color: #d97706;
    }

    .bg-white {
        background-color: white;
    }

    .bg-blue-100 {
        background-color: #bee3f8;
    }

    .bg-opacity-20 {
        opacity: 0.2;
    }

    .bg-secondary {
        background-color: #2c3b4e;
    }

    .bg-green-600 {
        background-color: #38a169;
    }

    .rounded-full {
        border-radius: 9999px;
    }

    .rounded {
        border-radius: 0.25rem;
    }

    .rounded-lg {
        border-radius: 0.5rem;
    }

    .cursor-pointer {
        cursor: pointer;
    }

    .hidden {
        display: none;
    }

    .overflow-y-auto {
        overflow-y: auto;
    }

    .overflow-x-hidden {
        overflow-x: hidden;
    }

    .truncate {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .transition-colors {
        transition-property: color, background-color, border-color;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 150ms;
    }

    .duration-200 {
        transition-duration: 200ms;
    }

    .animate-fade-in {
        animation: fadeIn 0.5s ease-in-out;
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    /* Flex wrap for tags */
    .flex-wrap {
        flex-wrap: wrap;
    }

    .gap-2 {
        gap: 0.5rem;
    }

    .gap-4 {
        gap: 1rem;
    }

    /* Grid */
    .grid {
        display: grid;
    }

    .grid-cols-1 {
        grid-template-columns: repeat(1, minmax(0, 1fr));
    }

    .md\:grid-cols-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    /* Flex column */
    .flex-col {
        flex-direction: column;
    }

    .md\:flex-row {
        flex-direction: row;
    }

    .md\:items-center {
        align-items: center;
    }

    .md\:justify-between {
        justify-content: space-between;
    }

    .md\:mt-0 {
        margin-top: 0;
    }
  </style>
</head>
<body>
<main style="overflow-x:hidden" layout:fragment="content">
  <!-- Page Header -->
  <div class="legal-header">
    <div class="container mx-auto px-4 lg:px-6">
      <div class="flex items-center justify-between mb-4">
        <div class="flex items-center">
          <div class="legal-icon secondary mr-4">
            <i class="fas fa-folder-open"></i>
          </div>
          <div>
            <h1 class="text-2xl lg:text-3xl font-bold font-serif">Corporate Document Review</h1>
            <p class="text-legal-navy-200 mt-2">Review automatically categorized documents for M&A due diligence</p>
          </div>
        </div>
        <div class="flex items-center space-x-4">
          <div class="text-right">
            <p class="text-sm opacity-80">Upload completed</p>
            <p class="font-semibold">Oct 15, 2023</p>
          </div>
          <div class="w-10 h-10 rounded-full bg-white bg-opacity-20 flex items-center justify-center">
            <i class="fas fa-check"></i>
          </div>
        </div>
      </div>
      <div class="flex flex-wrap gap-2 mt-4">
        <span class="px-3 py-1 bg-white bg-opacity-20 rounded-full text-sm">105 Documents Processed</span>
        <span class="px-3 py-1 bg-white bg-opacity-20 rounded-full text-sm">3 Categories Identified</span>
        <span class="px-3 py-1 bg-white bg-opacity-20 rounded-full text-sm">98% Accuracy</span>
        <span class="px-3 py-1 bg-white bg-opacity-20 rounded-full text-sm">Ready for Review</span>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="container mx-auto px-4 lg:px-6 pb-8">
    <!-- Summary Cards -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
      <div class="legal-card p-4 text-center">
        <div class="text-2xl font-bold text-legal-burgundy-600">42</div>
        <div class="text-sm text-legal-navy-600">IP Documents</div>
        <div class="progress-bar mt-2">
          <div class="progress-fill" style="width: 85%"></div>
        </div>
        <div class="text-xs text-legal-navy-500 mt-1">85% reviewed</div>
      </div>
      <div class="legal-card p-4 text-center">
        <div class="text-2xl font-bold text-legal-burgundy-600">28</div>
        <div class="text-sm text-legal-navy-600">Employment Docs</div>
        <div class="progress-bar mt-2">
          <div class="progress-fill" style="width: 65%"></div>
        </div>
        <div class="text-xs text-legal-navy-500 mt-1">65% reviewed</div>
      </div>
      <div class="legal-card p-4 text-center">
        <div class="text-2xl font-bold text-legal-burgundy-600">35</div>
        <div class="text-sm text-legal-navy-600">Corporate Records</div>
        <div class="progress-bar mt-2">
          <div class="progress-fill" style="width: 90%"></div>
        </div>
        <div class="text-xs text-legal-navy-500 mt-1">90% reviewed</div>
      </div>
    </div>

    <!-- Document Categories -->
    <div class="space-y-6">
      <!-- Intellectual Property -->
      <div class="legal-card p-6 document-category ip">
        <div class="flex justify-between items-start mb-4">
          <div>
            <h3 class="text-lg font-bold flex items-center">
              <i class="fas fa-copyright mr-2 text-blue-600"></i>
              Intellectual Property Documents
            </h3>
            <p class="text-legal-navy-600 mt-1">Patents, trademarks, copyrights, and licensing agreements</p>
          </div>
          <span class="category-badge ip">42 Documents</span>
        </div>

        <div class="space-y-4">
          <!-- Document Items -->
          <div class="file-preview p-4 flex items-center justify-between">
            <div class="flex items-center">
              <div class="file-icon pdf mr-4">
                <i class="fas fa-file-pdf"></i>
              </div>
              <div>
                <div class="font-medium text-legal-navy-700">US_Patent_9845321.pdf</div>
                <div class="text-xs text-legal-navy-500 flex items-center mt-1">
                  <span class="mr-3">2.4 MB</span>
                  <span class="document-status status-complete">Reviewed</span>
                </div>
              </div>
            </div>
            <div class="flex items-center space-x-3">
              <span class="category-badge ip">Patent</span>
              <button class="text-legal-burgundy-600 hover:text-legal-burgundy-800 view-doc-btn" data-doc-id="doc-001">
                <i class="fas fa-eye"></i>
              </button>
              <button class="text-legal-navy-600 hover:text-legal-navy-800 download-doc-btn" data-doc-id="doc-001">
                <i class="fas fa-download"></i>
              </button>
            </div>
          </div>

          <div class="file-preview p-4 flex items-center justify-between">
            <div class="flex items-center">
              <div class="file-icon doc mr-4">
                <i class="fas fa-file-word"></i>
              </div>
              <div>
                <div class="font-medium text-legal-navy-700">Trademark_License_Agreement.docx</div>
                <div class="text-xs text-legal-navy-500 flex items-center mt-1">
                  <span class="mr-3">1.2 MB</span>
                  <span class="document-status status-review">Needs Review</span>
                </div>
              </div>
            </div>
            <div class="flex items-center space-x-3">
              <span class="category-badge ip">Trademark</span>
              <button class="text-legal-burgundy-600 hover:text-legal-burgundy-800 view-doc-btn" data-doc-id="doc-002">
                <i class="fas fa-eye"></i>
              </button>
              <button class="text-legal-navy-600 hover:text-legal-navy-800 download-doc-btn" data-doc-id="doc-002">
                <i class="fas fa-download"></i>
              </button>
            </div>
          </div>

          <div class="file-preview p-4 flex items-center justify-between">
            <div class="flex items-center">
              <div class="file-icon pdf mr-4">
                <i class="fas fa-file-pdf"></i>
              </div>
              <div>
                <div class="font-medium text-legal-navy-700">Copyright_Registration.pdf</div>
                <div class="text-xs text-legal-navy-500 flex items-center mt-1">
                  <span class="mr-3">3.1 MB</span>
                  <span class="document-status status-complete">Reviewed</span>
                </div>
              </div>
            </div>
            <div class="flex items-center space-x-3">
              <span class="category-badge ip">Copyright</span>
              <button class="text-legal-burgundy-600 hover:text-legal-burgundy-800 view-doc-btn" data-doc-id="doc-003">
                <i class="fas fa-eye"></i>
              </button>
              <button class="text-legal-navy-600 hover:text-legal-navy-800 download-doc-btn" data-doc-id="doc-003">
                <i class="fas fa-download"></i>
              </button>
            </div>
          </div>

          <!-- Hidden Documents -->
          <div class="hidden-documents">
            <div class="file-preview p-4 flex items-center justify-between">
              <div class="flex items-center">
                <div class="file-icon pdf mr-4">
                  <i class="fas fa-file-pdf"></i>
                </div>
                <div>
                  <div class="font-medium text-legal-navy-700">Design_Patent_7654321.pdf</div>
                  <div class="text-xs text-legal-navy-500 flex items-center mt-1">
                    <span class="mr-3">1.8 MB</span>
                    <span class="document-status status-pending">Pending Review</span>
                  </div>
                </div>
              </div>
              <div class="flex items-center space-x-3">
                <span class="category-badge ip">Design Patent</span>
                <button class="text-legal-burgundy-600 hover:text-legal-burgundy-800 view-doc-btn" data-doc-id="doc-004">
                  <i class="fas fa-eye"></i>
                </button>
                <button class="text-legal-navy-600 hover:text-legal-navy-800 download-doc-btn" data-doc-id="doc-004">
                  <i class="fas fa-download"></i>
                </button>
              </div>
            </div>
          </div>

          <div class="text-center mt-4">
            <button class="text-legal-burgundy-600 font-medium hover:text-legal-burgundy-800 show-more-btn" data-category="ip">
              <i class="fas fa-chevron-down mr-1"></i> Show 39 more IP documents
            </button>
          </div>
        </div>
      </div>

      <!-- Employment Documents -->
      <div class="legal-card p-6 document-category employment">
        <div class="flex justify-between items-start mb-4">
          <div>
            <h3 class="text-lg font-bold flex items-center">
              <i class="fas fa-users mr-2 text-green-600"></i>
              Employment Documents
            </h3>
            <p class="text-legal-navy-600 mt-1">Employment contracts, policies, handbooks, and records</p>
          </div>
          <span class="category-badge employment">28 Documents</span>
        </div>

        <div class="space-y-4">
          <!-- Document Items -->
          <div class="file-preview p-4 flex items-center justify-between">
            <div class="flex items-center">
              <div class="file-icon doc mr-4">
                <i class="fas fa-file-word"></i>
              </div>
              <div>
                <div class="font-medium text-legal-navy-700">Employee_Handbook_2023.docx</div>
                <div class="text-xs text-legal-navy-500 flex items-center mt-1">
                  <span class="mr-3">4.2 MB</span>
                  <span class="document-status status-complete">Reviewed</span>
                </div>
              </div>
            </div>
            <div class="flex items-center space-x-3">
              <span class="category-badge employment">Handbook</span>
              <button class="text-legal-burgundy-600 hover:text-legal-burgundy-800 view-doc-btn" data-doc-id="doc-101">
                <i class="fas fa-eye"></i>
              </button>
              <button class="text-legal-navy-600 hover:text-legal-navy-800 download-doc-btn" data-doc-id="doc-101">
                <i class="fas fa-download"></i>
              </button>
            </div>
          </div>

          <div class="file-preview p-4 flex items-center justify-between">
            <div class="flex items-center">
              <div class="file-icon pdf mr-4">
                <i class="fas fa-file-pdf"></i>
              </div>
              <div>
                <div class="font-medium text-legal-navy-700">Executive_Employment_Contracts.pdf</div>
                <div class="text-xs text-legal-navy-500 flex items-center mt-1">
                  <span class="mr-3">2.8 MB</span>
                  <span class="document-status status-pending">Pending Review</span>
                </div>
              </div>
            </div>
            <div class="flex items-center space-x-3">
              <span class="category-badge employment">Contract</span>
              <button class="text-legal-burgundy-600 hover:text-legal-burgundy-800 view-doc-btn" data-doc-id="doc-102">
                <i class="fas fa-eye"></i>
              </button>
              <button class="text-legal-navy-600 hover:text-legal-navy-800 download-doc-btn" data-doc-id="doc-102">
                <i class="fas fa-download"></i>
              </button>
            </div>
          </div>

          <div class="file-preview p-4 flex items-center justify-between">
            <div class="flex items-center">
              <div class="file-icon doc mr-4">
                <i class="fas fa-file-word"></i>
              </div>
              <div>
                <div class="font-medium text-legal-navy-700">Non_Compete_Agreements.docx</div>
                <div class="text-xs text-legal-navy-500 flex items-center mt-1">
                  <span class="mr-3">1.5 MB</span>
                  <span class="document-status status-review">Needs Review</span>
                </div>
              </div>
            </div>
            <div class="flex items-center space-x-3">
              <span class="category-badge employment">Agreement</span>
              <button class="text-legal-burgundy-600 hover:text-legal-burgundy-800 view-doc-btn" data-doc-id="doc-103">
                <i class="fas fa-eye"></i>
              </button>
              <button class="text-legal-navy-600 hover:text-legal-navy-800 download-doc-btn" data-doc-id="doc-103">
                <i class="fas fa-download"></i>
              </button>
            </div>
          </div>

          <!-- Hidden Documents -->
          <div class="hidden-documents">
            <div class="file-preview p-4 flex items-center justify-between">
              <div class="flex items-center">
                <div class="file-icon pdf mr-4">
                  <i class="fas fa-file-pdf"></i>
                </div>
                <div>
                  <div class="font-medium text-legal-navy-700">Payroll_Records_2023.pdf</div>
                  <div class="text-xs text-legal-navy-500 flex items-center mt-1">
                    <span class="mr-3">3.7 MB</span>
                    <span class="document-status status-pending">Pending Review</span>
                  </div>
                </div>
              </div>
              <div class="flex items-center space-x-3">
                <span class="category-badge employment">Payroll</span>
                <button class="text-legal-burgundy-600 hover:text-legal-burgundy-800 view-doc-btn" data-doc-id="doc-104">
                  <i class="fas fa-eye"></i>
                </button>
                <button class="text-legal-navy-600 hover:text-legal-navy-800 download-doc-btn" data-doc-id="doc-104">
                  <i class="fas fa-download"></i>
                </button>
              </div>
            </div>
          </div>

          <div class="text-center mt-4">
            <button class="text-legal-burgundy-600 font-medium hover:text-legal-burgundy-800 show-more-btn" data-category="employment">
              <i class="fas fa-chevron-down mr-1"></i> Show 25 more employment documents
            </button>
          </div>
        </div>
      </div>

      <!-- Corporate Documents -->
      <div class="legal-card p-6 document-category corporate">
        <div class="flex justify-between items-start mb-4">
          <div>
            <h3 class="text-lg font-bold flex items-center">
              <i class="fas fa-building mr-2 text-amber-600"></i>
              Corporate Records
            </h3>
            <p class="text-legal-navy-600 mt-1">Formation documents, bylaws, board minutes, and governance</p>
          </div>
          <span class="category-badge corporate">35 Documents</span>
        </div>

        <div class="space-y-4">
          <!-- Document Items -->
          <div class="file-preview p-4 flex items-center justify-between">
            <div class="flex items-center">
              <div class="file-icon pdf mr-4">
                <i class="fas fa-file-pdf"></i>
              </div>
              <div>
                <div class="font-medium text-legal-navy-700">Articles_of_Incorporation.pdf</div>
                <div class="text-xs text-legal-navy-500 flex items-center mt-1">
                  <span class="mr-3">1.5 MB</span>
                  <span class="document-status status-complete">Reviewed</span>
                </div>
              </div>
            </div>
            <div class="flex items-center space-x-3">
              <span class="category-badge corporate">Formation</span>
              <button class="text-legal-burgundy-600 hover:text-legal-burgundy-800 view-doc-btn" data-doc-id="doc-201">
                <i class="fas fa-eye"></i>
              </button>
              <button class="text-legal-navy-600 hover:text-legal-navy-800 download-doc-btn" data-doc-id="doc-201">
                <i class="fas fa-download"></i>
              </button>
            </div>
          </div>

          <div class="file-preview p-4 flex items-center justify-between">
            <div class="flex items-center">
              <div class="file-icon doc mr-4">
                <i class="fas fa-file-word"></i>
              </div>
              <div>
                <div class="font-medium text-legal-navy-700">Board_Minutes_Q3_2023.docx</div>
                <div class="text-xs text-legal-navy-500 flex items-center mt-1">
                  <span class="mr-3">3.7 MB</span>
                  <span class="document-status status-review">Needs Review</span>
                </div>
              </div>
            </div>
            <div class="flex items-center space-x-3">
              <span class="category-badge corporate">Minutes</span>
              <button class="text-legal-burgundy-600 hover:text-legal-burgundy-800 view-doc-btn" data-doc-id="doc-202">
                <i class="fas fa-eye"></i>
              </button>
              <button class="text-legal-navy-600 hover:text-legal-navy-800 download-doc-btn" data-doc-id="doc-202">
                <i class="fas fa-download"></i>
              </button>
            </div>
          </div>

          <div class="file-preview p-4 flex items-center justify-between">
            <div class="flex items-center">
              <div class="file-icon pdf mr-4">
                <i class="fas fa-file-pdf"></i>
              </div>
              <div>
                <div class="font-medium text-legal-navy-700">Corporate_Bylaws_Amended.pdf</div>
                <div class="text-xs text-legal-navy-500 flex items-center mt-1">
                  <span class="mr-3">2.1 MB</span>
                  <span class="document-status status-complete">Reviewed</span>
                </div>
              </div>
            </div>
            <div class="flex items-center space-x-3">
              <span class="category-badge corporate">Bylaws</span>
              <button class="text-legal-burgundy-600 hover:text-legal-burgundy-800 view-doc-btn" data-doc-id="doc-203">
                <i class="fas fa-eye"></i>
              </button>
              <button class="text-legal-navy-600 hover:text-legal-navy-800 download-doc-btn" data-doc-id="doc-203">
                <i class="fas fa-download"></i>
              </button>
            </div>
          </div>

          <!-- Hidden Documents -->
          <div class="hidden-documents">
            <div class="file-preview p-4 flex items-center justify-between">
              <div class="flex items-center">
                <div class="file-icon pdf mr-4">
                  <i class="fas fa-file-pdf"></i>
                </div>
                <div>
                  <div class="font-medium text-legal-navy-700">Shareholder_Agreement.pdf</div>
                  <div class="text-xs text-legal-navy-500 flex items-center mt-1">
                    <span class="mr-3">4.3 MB</span>
                    <span class="document-status status-pending">Pending Review</span>
                  </div>
                </div>
              </div>
              <div class="flex items-center space-x-3">
                <span class="category-badge corporate">Agreement</span>
                <button class="text-legal-burgundy-600 hover:text-legal-burgundy-800 view-doc-btn" data-doc-id="doc-204">
                  <i class="fas fa-eye"></i>
                </button>
                <button class="text-legal-navy-600 hover:text-legal-navy-800 download-doc-btn" data-doc-id="doc-204">
                  <i class="fas fa-download"></i>
                </button>
              </div>
            </div>
          </div>

          <div class="text-center mt-4">
            <button class="text-legal-burgundy-600 font-medium hover:text-legal-burgundy-800 show-more-btn" data-category="corporate">
              <i class="fas fa-chevron-down mr-1"></i> Show 32 more corporate documents
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Document Upload Form -->
    <form th:action="@{/tasks/complete/{taskId}(taskId=${taskId})}" method="post"
          id="requirementForm" enctype="multipart/form-data">
      <!-- Upload Section -->
      <div class="legal-card p-6 mb-6">
        <h2 class="text-xl font-bold text-primary font-serif mb-6">Upload Additional Documents</h2>

        <!-- Document Types Overview -->
        <div class="document-section">
          <h3 class="font-medium text-legal-navy-700 mb-3">Document Types We'll Automatically Identify</h3>
          <p class="text-sm text-legal-navy-600 mb-4">Our system will scan and categorize your documents into the following types:</p>

          <div class="document-types-grid">
            <div class="document-type-card">
              <div class="document-type-icon">
                <i class="fas fa-copyright"></i>
              </div>
              <div class="text-sm font-medium">Intellectual Property</div>
            </div>
            <div class="document-type-card">
              <div class="document-type-icon">
                <i class="fas fa-users"></i>
              </div>
              <div class="text-sm font-medium">Employment Documents</div>
            </div>
            <div class="document-type-card">
              <div class="document-type-icon">
                <i class="fas fa-building"></i>
              </div>
              <div class="text-sm font-medium">Corporate Records</div>
            </div>
            <div class="document-type-card">
              <div class="document-type-icon">
                <i class="fas fa-file-invoice-dollar"></i>
              </div>
              <div class="text-sm font-medium">Financial Statements</div>
            </div>
            <div class="document-type-card">
              <div class="document-type-icon">
                <i class="fas fa-handshake"></i>
              </div>
              <div class="text-sm font-medium">Contracts</div>
            </div>
            <div class="document-type-card">
              <div class="document-type-icon">
                <i class="fas fa-balance-scale"></i>
              </div>
              <div class="text-sm font-medium">Legal Documents</div>
            </div>
          </div>
        </div>

        <!-- File Upload Section -->
        <div>
          <label class="block text-sm font-medium text-legal-navy-700 mb-3">Upload Additional Company Documents</label>

          <!-- Dropzone -->
          <div id="uploadDropzone" class="upload-dropzone p-8 text-center cursor-pointer">
            <div class="upload-icon mb-4">
              <i class="fas fa-cloud-upload-alt"></i>
            </div>
            <h3 class="text-lg font-medium text-legal-navy-700 mb-2">Drag & Drop All Company Files Here</h3>
            <p class="text-legal-navy-500 mb-4">or click to browse and select multiple files</p>
            <p class="text-xs text-legal-navy-400">Supports PDF, DOC, DOCX, XLS, XLSX, JPG, PNG, ZIP (Max 50MB each)</p>
            <input type="file" id="fileInput" class="hidden" multiple>
          </div>

          <!-- File Preview Area -->
          <div id="filePreviewArea" class="mt-4 space-y-3 hidden">
            <div class="flex justify-between items-center">
              <h4 class="text-sm font-medium text-legal-navy-700">Selected Files (<span id="fileCount">0</span>)</h4>
              <button type="button" id="clearFiles" class="text-sm text-legal-burgundy-600 hover:text-legal-burgundy-800">Clear All</button>
            </div>
            <div id="fileList" class="space-y-3 max-h-60 overflow-y-auto">
              <!-- File previews will be added here dynamically -->
            </div>
          </div>
        </div>

        <!-- Upload Summary -->
        <div id="uploadSummary" class="upload-summary hidden">
          <h4 class="font-medium text-green-900 mb-2">Ready to Upload Documents</h4>
          <p class="text-sm text-green-800">You've selected <span id="summaryFileCount">0</span> documents for upload. These will be automatically categorized and organized after submission.</p>
        </div>
      </div>

      <!-- Review Actions Footer -->
      <div class="legal-card p-6 mt-6">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between">
          <div>
            <h3 class="font-bold text-primary font-serif">Review Complete?</h3>
            <p class="text-legal-navy-600 mt-1">Finalize the document review process</p>
          </div>
          <div class="flex space-x-3 mt-4 md:mt-0">
            <button type="submit" id="submitBtn" class="legal-button complete-review-btn">
              <i class="fas fa-check-double mr-2"></i> Complete Review
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Add functionality to show more documents
        const showMoreButtons = document.querySelectorAll('.show-more-btn');

        showMoreButtons.forEach(button => {
            button.addEventListener('click', function() {
                const categoryCard = this.closest('.legal-card');
                const hiddenDocuments = categoryCard.querySelectorAll('.hidden-documents');

                hiddenDocuments.forEach(container => {
                    if (container.style.display === 'none' || container.style.display === '') {
                        container.style.display = 'block';
                        this.innerHTML = '<i class="fas fa-chevron-up mr-1"></i> Show fewer documents';
                    } else {
                        container.style.display = 'none';
                        const category = this.getAttribute('data-category');
                        let countText = '';
                        switch(category) {
                            case 'ip': countText = '39 more IP documents'; break;
                            case 'employment': countText = '25 more employment documents'; break;
                            case 'corporate': countText = '32 more corporate documents'; break;
                        }
                        this.innerHTML = '<i class="fas fa-chevron-down mr-1"></i> Show ' + countText;
                    }
                });
            });
        });

        // Function to view document
        const viewButtons = document.querySelectorAll('.view-doc-btn');
        viewButtons.forEach(button => {
            button.addEventListener('click', function() {
                const documentId = this.getAttribute('data-doc-id');
                alert('Opening document viewer for document ID: ' + documentId);
            });
        });

        // Function to download document
        const downloadButtons = document.querySelectorAll('.download-doc-btn');
        downloadButtons.forEach(button => {
            button.addEventListener('click', function() {
                const documentId = this.getAttribute('data-doc-id');
                alert('Initiating download for document ID: ' + documentId);
            });
        });

        // File Upload Functionality
        const submitBtn = document.getElementById('submitBtn');
        const dropzone = document.getElementById('uploadDropzone');
        const fileInput = document.getElementById('fileInput');
        const filePreviewArea = document.getElementById('filePreviewArea');
        const fileList = document.getElementById('fileList');
        const fileCount = document.getElementById('fileCount');
        const summaryFileCount = document.getElementById('summaryFileCount');
        const uploadSummary = document.getElementById('uploadSummary');
        const clearFiles = document.getElementById('clearFiles');
        const form = document.getElementById('requirementForm');

        let uploadedFiles = [];

        // Click on dropzone to trigger file input
        dropzone.addEventListener('click', () => {
            fileInput.click();
        });

        // Handle file selection
        fileInput.addEventListener('change', (e) => {
            handleFiles(e.target.files);
        });

        // Drag and drop functionality
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            dropzone.addEventListener(eventName, preventDefaults, false);
        });

        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        ['dragenter', 'dragover'].forEach(eventName => {
            dropzone.addEventListener(eventName, highlight, false);
        });

        ['dragleave', 'drop'].forEach(eventName => {
            dropzone.addEventListener(eventName, unhighlight, false);
        });

        function highlight() {
            dropzone.classList.add('active');
        }

        function unhighlight() {
            dropzone.classList.remove('active');
        }

        dropzone.addEventListener('drop', handleDrop, false);

        function handleDrop(e) {
            const dt = e.dataTransfer;
            const files = dt.files;
            handleFiles(files);
        }

        function handleFiles(files) {
            if (files.length > 0) {
                filePreviewArea.classList.remove('hidden');
                uploadSummary.classList.remove('hidden');

                for (let i = 0; i < files.length; i++) {
                    const file = files[i];
                    // Avoid duplicates
                    if (!uploadedFiles.some(f => f.name === file.name && f.size === file.size)) {
                        uploadedFiles.push(file);
                        addFilePreview(file);
                    }
                }

                updateFileCount();
            }
        }

        function addFilePreview(file) {
            const fileElement = document.createElement('div');
            fileElement.className = 'file-preview p-4 flex items-center justify-between';

            const fileType = getFileType(file.name);
            const fileSize = formatFileSize(file.size);

            fileElement.innerHTML = `
                <div class="flex items-center">
                    <div class="file-icon ${fileType} mr-4">
                        <i class="fas ${getFileIcon(fileType)}"></i>
                    </div>
                    <div>
                        <div class="font-medium text-legal-navy-700 truncate max-w-xs">${file.name}</div>
                        <div class="text-xs text-legal-navy-500">${fileSize}</div>
                    </div>
                </div>
                <div class="flex items-center space-x-2">
                    <button type="button" class="text-legal-navy-400 hover:text-legal-burgundy-600 transition-colors duration-200 remove-file">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;

            fileList.appendChild(fileElement);

            // Add remove functionality
            const removeButton = fileElement.querySelector('.remove-file');
            removeButton.addEventListener('click', () => {
                fileElement.remove();
                uploadedFiles = uploadedFiles.filter(f => f !== file);
                updateFileCount();

                if (uploadedFiles.length === 0) {
                    filePreviewArea.classList.add('hidden');
                    uploadSummary.classList.add('hidden');
                }
            });
        }

        // Clear all files
        clearFiles.addEventListener('click', () => {
            fileList.innerHTML = '';
            uploadedFiles = [];
            filePreviewArea.classList.add('hidden');
            uploadSummary.classList.add('hidden');
            updateFileCount();
        });

        function updateFileCount() {
            fileCount.textContent = uploadedFiles.length;
            summaryFileCount.textContent = uploadedFiles.length;
        }

        // Form submission
        form.addEventListener('submit', function(e) {
            // Disable submit button and show loading state
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Finalizing Review...';

            // Note: The form will now submit normally to your Thymeleaf endpoint
            // The button will stay disabled until the page reloads
        });

        function getFileType(filename) {
            const ext = filename.split('.').pop().toLowerCase();
            if (['pdf'].includes(ext)) return 'pdf';
            if (['doc', 'docx'].includes(ext)) return 'doc';
            if (['xls', 'xlsx'].includes(ext)) return 'xls';
            if (['jpg', 'jpeg', 'png', 'gif', 'bmp'].includes(ext)) return 'img';
            if (['zip', 'rar', '7z'].includes(ext)) return 'zip';
            return 'other';
        }

        function getFileIcon(fileType) {
            switch(fileType) {
                case 'pdf': return 'fa-file-pdf';
                case 'doc': return 'fa-file-word';
                case 'xls': return 'fa-file-excel';
                case 'img': return 'fa-file-image';
                case 'zip': return 'fa-file-archive';
                default: return 'fa-file';
            }
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
    });
  </script>
</main>
</body>
</html>